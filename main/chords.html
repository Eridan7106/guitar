<!DOCTYPE html>
<html>
    <head>
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <style>
        body {
          background-image: url('../images/yui-guitar.jpg') !important;
          background-size: cover !important;
          background-position: center !important;
          height: 100% !important;
        }
        
        .topnav {
          overflow: hidden;
          background-color: #333;
        }
        
        .topnav a {
          float: left;
          color: #f2f2f2;
          text-align: center;
          padding: 14px 16px;
          text-decoration: none;
          font-size: 17px;
        }
        
        .topnav a:hover {
          background-color: #ddd;
          color: black;
        }

        .active {
            background-color: #3d3c3c;
        }
                
        /* Create a right-aligned (split) link inside the navigation bar */
        .topnav a.split {
          float: right;
          background-color: #04AA6D;
          color: white;
        }

        .chord-container {
          display: flex;
          align-items: center;
          justify-content: center;
          margin-bottom: 20px;
        }

        .appear{
          height:2000px;
          width:200px;
        }


        .modal{
          position: fixed;
          top: 50%;
          left: 50%;
          transform: translate(-50%, -50%) scale(0);
          transition: 200ms ease-in-out;
          border: 1px solid black;
          border-radius: 10px;
          z-index: 1;
          background-color: white;
          width: 500px;
          max-width: 80%;
        }
        .modal.active {
          transform: translate(-50%, -50%) scale(1);
        }
        .modal-header{
          padding: 10px 15px;
          display: flex;
          justify-content: space-between;
          align-items: center;
          border-bottom: 1px solid black;
        }
        .modal-header .title{
          font-size: 1.25rem;
          font-weight: bold;
        }
        .modal-header .closeButton{
          cursor: pointer;
          border: none;
          outline: none;
          background: none;
          font-size: 1.25rem;
          font-weight: bold;
        }

        .modal .body {
          padding: 10px 15px; 
        }

        #overlay{
          position: fixed;
          opacity: 0;
          transition: 200ms ease-in-out;
          top: 0;
          left: 0;
          right: 0;
          bottom: 0;
          background-color: rgba(0, 0, 0, .5);
          pointer-events: none;
        }
        #overlay.active{
          opacity: 1;
          pointer-events: all;
        }

        .chordSelectorContainer{
          position: absolute; /* You can change this to relative, fixed, or sticky based on your needs */
          top: 285px; /* Adjust the top position */
          left: 350px; /* Adjust the left position */
          display: flex;
          align-items: center;
          width: 800px;
          max-width: 90%;
          height: 100px;
          justify-content: space-between;
        }
        .minor{
          position: absolute;
          top: 385px;
          left: 710px;
          width: 80px;
          max-width: 20%;
          height: 40px;
        }
      </style>

      <link rel="stylesheet" href="https://unpkg.com/@sakun/system.css" />

    </head>

    <body background="../images/yui-guitar.jpg">
      <h1>Guitar Website</h1>
      <h2>by ABOBA</h2>
      <div class="topnav">
        <a href="index.html">Home</a>
        <a href="braintuner.html">Brain Tuner</a>
        <a href="scales.html">Scales</a>
        <a class="active" href="chords.html">Chords</a>
        
        <a href="technique.html">Technique</a>
        <a href="theory.html">Theory</a>

        <a href="contact.html">Contact me :3</a>
        
        <a href="help.html" class="split">Help</a>
      </div>

      <br>

      <div class="chord-container">
        <input type="button" value="RND Chord" id="appear" class="button appearButton" style="height:40px; width:120px"></input>
        <canvas id="chordCanvas" style='background-color: rgb(198, 11, 11)' width="300" height="120"></canvas>
      </div>
      
      <div class="chordSelectorContainer">
        <button data-modal-target="#modal">A Chord</button>
        <div class="modal" id="modal">
          <div class="modal-header">
            <div class="modal-title">Title</div>
            <button data-close-button class="closeButton">&times;</button>
          </div>
          <div class="modal-body">
            TEST
          </div>
        </div>
        
        <button data-modal-target="#modal">B Chord</button>
        <div class="modal" id="modal">
          <div class="modal-header">
            <div class="modal-title">Title</div>
            <button data-close-button class="closeButton">&times;</button>
          </div>
          <div class="modal-body">
            TEST
          </div>
        </div>
        
        <button data-modal-target="#modal">C Chord</button>
        <div class="modal" id="modal">
          <div class="modal-header">
            <div class="modal-title">Title</div>
            <button data-close-button class="closeButton">&times;</button>
          </div>
          <div class="modal-body">
            TEST
          </div>
        </div>

        <button data-modal-target="#modal">D Chord</button>
        <div class="modal" id="modal">
          <div class="modal-header">
            <div class="modal-title">Title</div>
            <button data-close-button class="closeButton">&times;</button>
          </div>
          <div class="modal-body">
            TEST
          </div>
        </div>

        <button data-modal-target="#modal">E Chord</button>
        <div class="modal" id="modal">
          <div class="modal-header">
            <div class="modal-title">Title</div>
            <button data-close-button class="closeButton">&times;</button>
          </div>
          <div class="modal-body">
            TEST
          </div>
        </div>

        <button data-modal-target="#modal">F Chord</button>
        <div class="modal" id="modal">
          <div class="modal-header">
            <div class="modal-title">Title</div>
            <button data-close-button class="closeButton">&times;</button>
          </div>
          <div class="modal-body">
            TEST
          </div>
        </div>

        <button data-modal-target="#modal">G Chord</button>
        <div class="modal" id="modal">
          <div class="modal-header">
            <div class="modal-title">Title</div>
            <button data-close-button class="closeButton">&times;</button>
          </div>
          <div class="modal-body">
            TEST
          </div>
        </div>
      </div>

      <button class="minor">Minor</button>
      


      <script>
        
        const button = document.getElementById("appear");
        button.addEventListener("click", generateChord);

        function generateChord() {
        // THIS IS FOR THE CHORD GENERATOR
        let canvas = document.getElementById("chordCanvas");
        let ctx = canvas.getContext("2d");

        ctx.clearRect(0, 0, canvas.width, canvas.height); // Clear the canvas before drawing

        // Draw horizontal lines (strings)
        const stringPositions = [10, 30, 50, 70, 90, 110];
        stringPositions.forEach(y => {
            ctx.beginPath();
            ctx.moveTo(0, y);
            ctx.lineTo(300, y);
            ctx.stroke();
        });

        // Draw vertical lines (frets)
        const fretPositions = [100, 200];
        fretPositions.forEach(x => {
            ctx.beginPath();
            ctx.moveTo(x, 0);
            ctx.lineTo(x, 140);
            ctx.stroke();
        });

        // Generate a random number to see which chord to play
        const randomNumber = Math.floor(Math.random() * 14) + 1;
        //const randomNumber = 14;
        document.getElementById("appear").value = getChordName(randomNumber);
        drawChord(ctx, randomNumber);
    }

    function getChordName(number) {
        const chordNames = ["A chord", "B chord", "C chord", "D chord", "E chord", "F chord", "G chord", "Am chord", "Bm chord", "Cm chord", "Dm chord", "Em chord", "Fm chord", "Gm chord"];
        return chordNames[number - 1];
    }

    function drawChord(ctx, number) {
        // MAKING THE CHORD SHOW UP
        const chordPositions = {
            1: [[150, 30], [150, 50], [150, 70]],
            2: [[50, 10], [50, 90], [250, 30], [250, 50], [250, 70]],
            3: [[50, 30], [150, 70], [250, 90]],
            4: [[150, 10], [150, 50], [250, 30]],
            5: [[50, 50], [150, 70], [150, 90]],
            6: [[50, 10], [50, 30], [150, 50], [250, 70]],
            7: [[150, 90], [250, 10], [250, 110]],
            8: [[50, 30], [150, 50], [150, 70]],
            9: [[50, 10], [50, 90], [150, 30], [250, 50], [250, 70]],
            10: [[50, 10], [50, 90], [150, 30], [250, 50], [250, 70]],
            11: [[50, 10], [150, 50], [250, 30]],
            12: [[150, 70], [150, 90]],
            13: [[50, 10], [50, 30], [150, 90], [150, 70], [50, 50], [50, 110]],
            14: [[50, 10], [50, 30], [150, 90], [150, 70], [50, 50], [50, 110]],
        };
        ctx.fillStyle = "green";
        chordPositions[number].forEach(pos => {
            ctx.beginPath();
            ctx.arc(pos[0], pos[1], 10, 0, 2 * Math.PI);
            ctx.fill();
            ctx.stroke();
        });
      }


      const openModalButtons = document.querySelectorAll('[data-modal-target]');
      const closeModalButtons = document.querySelectorAll('[data-close-button]');
      const overlay = document.getElementById('overlay');

      openModalButtons.forEach(button => {
        button.addEventListener('click', () => {
          const modal = document.querySelector(button.dataset.modalTarget);
          openModal(modal);
        })
      })
      closeModalButtons.forEach(button => {
        button.addEventListener('click', () => {
          const modal = button.closest('.modal');
          closeModal(modal);
        })
      })

      function openModal(modal){
        if(modal == null) return

        modal.classList.add('active');
        overlay.classList.add('active');
      }
      function closeModal(modal){
        if(modal == null) return

        modal.classList.remove('active');
        overlay.classList.remove('active');
      }

      </script>
    </body>

</html>